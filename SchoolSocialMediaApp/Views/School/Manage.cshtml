@model SchoolManageViewModel
<h1>Manage School</h1>
@if(ViewBag.Message != null)
{
<h2 class="badge @ViewBag.ClassOfMessage">@ViewBag.Message</h2>
}

<h2>School Details</h2>
<p>School Name: @Model.Name</p>
<p>Principal: @Model.Principal.FirstName @Model.Principal.LastName</p>

<a asp-controller="Invitation" asp-action="ManageSent" asp-route-schoolId ="@Model.Id" class="btn btn-primary mb-4">Manage Sent Invitations</a>

<h2>Teachers</h2>
@if (Model.Teachers.Any())
{
    <div class="row container-fluid">
        <table class="table table-striped table-hover table-responsive-md ">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var teacher in Model.Teachers)
                {
                    <tr>
                        <td>@teacher.FirstName @teacher.LastName </td>
                        <td>@teacher.Email</td>
                        <td>
                            <form asp-controller="School" asp-action="Remove" method="post">
                                <input type="hidden" name="schoolId" value="@teacher.SchoolId" />
                                <input type="hidden" name="userId" value="@teacher.Id" />
                                <button type="submit" class="btn btn-primary">Remove from school</button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <p>No teachers found.</p>
}
<a asp-controller="Invitation" asp-action="Send" asp-route-role="Teacher" class="btn btn-primary mb-4">Send Invitation</a>

<h2>Parents</h2>
@if (Model.Parents.Any())
{
    <div class="row container-fluid">
        <table class="table table-striped table-hover table-responsive-md ">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var parent in Model.Parents)
                {
                    <tr>
                        <td>@parent.FirstName @parent.LastName </td>
                        <td>@parent.Email</td>
                        <td>
                            <form asp-controller="School" asp-action="Remove" method="post">
                                <input type="hidden" name="schoolId" value="@parent.SchoolId" />
                                <input type="hidden" name="userId" value="@parent.Id" />
                                <button type="submit" class="btn btn-primary">Remove from school</button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <p>No parents found.</p>
}
<a asp-controller="Invitation" asp-action="Send" asp-route-role="Parent" class="btn btn-primary mb-4">Send Invitation</a>

<h2>Students</h2>
@if (Model.Students.Any())
{
    <div class="row container-fluid">
        <table class="table table-striped table-hover table-responsive-md ">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var student in Model.Students)
                {
                    <tr>
                        <td>@student.FirstName @student.LastName </td>
                        <td>@student.Email</td>
                        <td>
                            <form asp-controller="School" asp-action="Remove" method="post">
                                <input type="hidden" name="schoolId" value="@student.SchoolId" />
                                <input type="hidden" name="userId" value="@student.Id" />
                                <button type="submit" class="btn btn-primary">Remove from school</button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
}
else
{
    <p>No students found.</p>
}
<a asp-controller="Invitation" asp-action="Send" asp-route-role="Student" class="btn btn-primary mb-4">Send Invitation</a>